<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>


    <button index='0'>点击</button>
    <button index='1'>点击</button>
    <button index='2'>点击</button>

    <script>
        // alert(Boolean([]&&0));
        // console.log(((typeof [...[1, 2, 3]])));
        // console.log([...[1, 2, 3]]);


        /* let reg = /\{\{(.+?)\}\}/g;

        let str = '{{jin}}--{{shuo}}';

        str = str.replace(reg, (_, g) => {
            return '666';
        })

        console.log(str); */

        /* if(1){
            console.log('jinshuo');
        } */


        /* function a() {
            return function () {
                console.log(1);
            }
        }
        debugger
        let fn = a();
        fn();
        a = null;
        fn(); */


        /* function a() {
            return 1;
        }
        debugger
        let res = a();
        console.log(res);
        console.log(res); */



        /* function a() {
            var x = 1;
            return function () {
                console.log(x);
            }
        }
        debugger
        let fn = a();
        fn();
        a = null;
        fn(); */


        /* var a = 0;
        if (true) {
            a = 1;
            function a() { };
            a = 2;
            console.log(a);  //2
        }
        console.log(a);  //1 */

        /* var a = 0;
        if (true) {
            a = 1;
            var a;
            a = 2;
            console.log(a);  //2
        }
        console.log(a);  //2 */

        /* var a = 0;
        if (true) {
            a = 1;
            let a;
            a = 2;
            console.log(a);
        }
        console.log(a); */
        //Uncaught ReferenceError: Cannot access 'a' before initialization

        /* var a = 0;
        if (true) {
            a = 1;
            var a = 0;
            a = 2;
            console.log(a);  //2
        }
        console.log(a);  //2 */

        /* var f = 1;
        if (1) {
            function f() {
                console.log(1);
            }
        }
        console.log(f); */

        /* function A(){
            var x=1;
            console.log(x);
            return function(){
                console.log(1);
            }
        }
        var f=A(); */

        /* var arr[...];
        for (var i = 0; i < 5; i++) {
            (function (i) {
                buttonList[i].onclick = function () {
                    document.body.style.backgroundColor = arr[i];
                }
            })(i);
        }

        for (var i = 0; i < 5; i++) {
            buttonList[i].onclick = (function (i) {
                return function () {
                    document.body.style.backgroundColor = arr[i];
                }
            })(i);
        } */


        // debugger
        /* var buttonList = document.getElementsByTagName('button');
        var arr = ['red', 'blue', 'black'];
        for (var i = 0; i < buttonList.length; i++) {
            (function (i) {
                buttonList[i].onclick = function (i) {
                    console.log(i);
                    document.body.style.backgroundColor = arr[i];
                }
            })(i)
        } */

        /* var buttonList = document.getElementsByTagName('button');
        var arr = ['red', 'blue', 'black'];
        for (var i = 0; i < buttonList.length; i++) {
            (function (i) {
                buttonList[i].onclick = function () {
                    console.log(i);
                    document.body.style.backgroundColor = arr[i];
                }
            })(i)
        } */

        /* var buttonList = document.getElementsByTagName('button');
        var arr = ['red', 'blue', 'black'];
        for (var i = 0; i < buttonList.length; i++) {
            buttonList[i].index = i;
            buttonList[i].onclick = function () {
                var color = arr[this.index];
                document.body.style.backgroundColor = color;
            }
        } */

        /* var arr = ['red', 'blue', 'black'];
        document.body.onclick = function (e) {
            let target = e.target;
            targetTag = target.tagName;
            if (targetTag === 'BUTTON') {
                var index = target.getAttribute('index');
                document.body.style.backgroundColor = arr[index];
            }
        } */


        /* var module1 = (function () {
            var find = function () {
                console.log(1);
            }
            // debugger
            module2.update();
            return {
                find
            }
        })()

        var module2 = (function () {
            var update = function () {
                console.log(2);
            }
            return {
                update
            }
        })() */


        /* if(0){
            var f=function(){
                console.log(1);
            }
        }
        console.log(f); */

        /* function getCss(element, attr) {
            if ('getComputedStyle' in window) {
                getCss = function (element, attr) {
                    return window.getComputedStyle(element)[attr];
                }
            } else {
                getCss = function (element, attr) {
                    return element.currentStyle[attr];
                }
            }
            return getCss(element, attr);
        }


        function compose(...funcs) {
            return function (...args) {
                if (funcs.length === 0) {
                    return args;
                }
                if (funcs.length === 1) {
                    return funcs[0](...args);
                }
                return funcs.reduce((n, func) => {
                    return Array.isArray(n) ? func(...n) : func(n);
                }, args)
            }
        } */


        /* console.log(a);
        a = 12; */

        /* var a = 1;
        var b = 2;
        console.log('hhh', a + b);

        console.log('hhh'+1+2); */

        // console.log(f);
        /* (function f() {
            console.log(1);
        })(); */

        /*  console.log(f);
         function f(){
             console.log(1);
         }
  */


        /* function f(x) {
            console.log(x);
            var x = 20;
            console.log(x);
            function x() {
                console.log(1);
            }
            console.log(x);
        }
        f(10); */

        /* {
            console.log(foo);
            function foo() { };
            foo = 1;
            console.log(foo);
        }
        console.log(foo);
 */

        /* {
            console.log(foo);
            console.log(window.foo);
            function foo() {
                console.log(1);
            }
            console.log(window.foo);
            foo = 1;
            function foo() {
                console.log(2);
            }
            console.log(foo);
        }
        console.log(foo); */


        /* var a = 12;
        if (true) {
            console.log(a);
            a = 13;
            console.log(a);
            function a() { };
            a = 14;
            console.log(a);
        }
        console.log(a); */

        /* debugger
        var x = 1;
        function f(x, y = function () { x = 2 }) {
            var x;
            y();
            console.log(x);
        }
        f(5);
        console.log(x); */


        // debugger
        /* var x = 1;
        function f(x, y = 2) {
            x = 10;
            console.log(x);
        }
        f(5);
        console.log(x); */

        /* debugger
        var x = 1;
        function f(x, y = function () { x = 2 }) {
            function x() {
                console.log(1);
            }
            y();
            console.log(x);
        }
        f(5);
        console.log(x); */


        /* var z = 2;
        function f(x, y, z) {
            z = 3;
            console.log(arguments[2]);
        }
        z = f(1, 2);
        console.log(z); */

        /* (function f() {
            console.log(f);  // undefined
            var f = 1;
            console.log(f);  // 1
        })(); */

        /* (function f() {
            function f(){
                console.log(1);
            };
            console.log(f);  // 1
        })(); */

        /* function f() {
            f = 1;
            console.log(f);
        }
        f(); */


        /* var b = 10;
        (function b() {
            b = 20;
            console.log(b);  // f b(){...}
        })()
        console.log(b);  // 10 */



    </script>

    <script>

        /* function a() {
            console.log(1);
        }
        let a = 2; */


        /* var a = 1;
        var b = 2;
        if (1) {
            var a = 3;
            let b = 4;
            console.log(a, b);
        }
        console.log(a, b); */


        /* for(let i=0; i<6; i++){
            console.log(1);
        }
        console.log(i); */


        // alert(typeof Array);

        /* function f(x, y, z){
            x=1;
            y=2;
        }
        console.log(f.length);  // 3
        console.log(f.name);  // f
        console.log(f.prototype.constructor);  // f f(x, y, z){x=1; y=2;} */

        /* Object.create = function (prototype) {
            function Temp() { };
            Temp.prototype = prototype;
            return new Temp();
        } */


        // console.log(typeof undefined);


        /* function Fn() {

        }
        Fn.prototype.sayName = function () {
            console.log('name: lmy');
        }
        Fn.prototype.sayHello = function () {
            console.log('Hello');
        } */
        /* let newPrototype = Object.create(Fn.prototype);
        Object.assign(newPrototype, {
            sayName() {
                console.log('name: LiMengYing');
            },
            sayAge() {
                console.log('age: 30');
            }
        }) */
        /* let newPrototype = {
            sayName() {
                console.log('name: LiMengYing');
            },
            sayAge() {
                console.log('age: 30');
            }
        }
        newPrototype.__proto__ = Fn.prototype;
        Fn.prototype = newPrototype;
        let obj = new Fn();
        obj.sayName();
        obj.__proto__.__proto__.sayName();
        obj.sayHello(); */

        /* let obj = { a: 1 };
        obj.__proto__.b = 2;
        for(let key in obj){
            console.log(key);
        } */

        /* let fn = function () {
            this.a = 1;
            let b = 2;
            c: 3
        }
        fn();
        console.log(fn.hasOwnProperty('a'));  // false
        console.log(fn.hasOwnProperty('b'));  // false
        console.log(fn.hasOwnProperty('c'));
        console.log(fn.c);
        console.log(fn.b); */


        /* function Foo(){
            getName=function(){
                console.log(1);
            }
            return this;
        }
        Foo.getName=function(){
            console.log(2);
        }
        Foo.prototype.getName=function(){
            console.log(3);
        }
        var getName=function(){
            console.log(4);
        }
        function getName(){
            console.log(5);
        }

        Foo.getName();  // 2
        getName();  // 4
        Foo().getName();  // 1
        getName();  // 1
        new Foo.getName();  // 2
        new Foo().getName();  // 3
        new new Foo().getName();  // 3 */


        // call继承
        /* function Parent() {
            this.x = 100;
        }
        Parent.prototype.getX = function () {
            return this.x;
        }
        function Child() {
            Parent.call(this);
            this.y = 200;
        }
        Child.prototype.getY = function () {
            return this.y;
        } */


        /* class Parent {
            constructor() {
                this.x = 100;
            }
            getX() {
                return this.x;
            }
        }
        class Child extends Parent {
            constructor() {
                super();
                this.y = 200;
            }
            getY() {
                return this.y;
            }
        } */


        /* function Fn() {
            this.x = 100;
            var x = 200;
            console.log(x);
        } */
        // Fn();
        // console.log(x);

        /* var obj = {};
        Fn.call(obj);
        console.log(obj); */

        // alert(null == undefined == 0 == '' == false);
        // alert(null==0)
        // alert(undefined==0)
        // alert(null == undefined);  // true
        // alert(0=='')  // true
        // alert(0 == false);  // true
        // alert(1==true);  // true

        /* Fn.call();
        console.log(window.x); */


        /* function Fn() {
            return 1;
        }
        let res = Fn.call();
        console.log(res);  // 1 */


        /* // call源码
        Function.prototype.call = function (context, ...params) {
            context == undefined ? context = window : null;
            let contextType = typeof context;
            if (!/^(object|function)$/.test(contextType)) {
                if (/^(symbol|bigint)$/.test(contextType)) {
                    context = Object(context);
                }
                else {
                    context = new contextType.constructor(context);
                }
            }
            let key = Symbol('key'),
                result;
            context[key] = this;
            result = context[key](...params);
            delete context[key];
            return result;
        }
        function Fn(x, y) {
            this.x = x;
            this.y = y;
        }
        let obj = {};
        Fn.call(obj, 1, 2);
        console.log(obj); */


        /* function slice() {
            let arr = [];
            for (let i = 0; i < this.length; i++) {
                arr.push(this[i]);
            }
            return arr;
        } */

        // let utils = (function () {
        //     // 方案一
        //     /* function toArray(...args) {
        //         return args;
        //     } */
        //     // 方案二
        //     /* function toArray() {
        //         return [...arguments];
        //     } */
        //     // 方案三
        //     function toArray() {
        //         return [].slice.call(arguments);
        //     }
        //     return {
        //         toArray
        //     }
        // })()
        // let arr = utils.toArray(1, 2, 3);
        // console.log(arr);


        /* function fn(){
            [].forEach.call(arguments, item=>{
                console.log(item);
            })
        }
        fn(1, 2, 3); */


        // 深克隆
        function deepClone(obj) {
            const constructor = obj.constructor;
            if (obj === null) return null;
            if (typeof obj !== 'object') return obj;
            if (/^(RegExp | Date)$/i.test(constructor.name)) return new constructor(obj);
            let newObj = new constructor();
            for (let key in obj) {
                if (!obj.hasOwnProperty(key)) break;
                newObj[key] = deepClone(obj[key]);
            }
            return newObj;
        }




    </script>

</body>

</html>